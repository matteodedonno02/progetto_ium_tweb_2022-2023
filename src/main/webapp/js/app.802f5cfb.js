(function(){"use strict";var e={8994:function(e,t,s){var o=s(9242),i=s(3396);const a={class:"container"},r={class:"container-content pt-5"},n={key:0},l={key:1},d={key:2},c={key:3},u={key:4},m={key:5},p={key:6};function g(e,t,s,o,g,h){const f=(0,i.up)("VerticalBar"),v=(0,i.up)("HomeView"),b=(0,i.up)("SearchView"),w=(0,i.up)("MyRepetitions"),_=(0,i.up)("AdminCourses"),C=(0,i.up)("AdminProfessors"),y=(0,i.up)("AdminTeachings"),k=(0,i.up)("AdminRepetitions");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(f,{loggedUser:g.loggedUser,page:g.page,onChangePage:h.changePage},null,8,["loggedUser","page","onChangePage"]),(0,i._)("div",a,[(0,i._)("div",r,["home"===g.page?((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(v,{loggedUser:g.loggedUser},null,8,["loggedUser"])])):"search"===g.page?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(b,{loggedUser:g.loggedUser,onChangePage:h.changePage},null,8,["loggedUser","onChangePage"])])):"my-repetitions"===g.page?((0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(w,{loggedUserEmail:g.loggedUser.email},null,8,["loggedUserEmail"])])):"admin-courses"===g.page?((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(_)])):"admin-professors"===g.page?((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(C)])):"admin-teachings"===g.page?((0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(y)])):"admin-repetitions"===g.page?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(k)])):(0,i.kq)("",!0)])]),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>h.login&&h.login(...e))},"LOGIN")],64)}var h=s(7387),f=s.n(h),v=s(7139);const b={class:"navbar navbar-expand-lg bg-light"},w={class:"container-fluid"},_={class:"navbar-brand"},C=(0,i._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i._)("span",{class:"navbar-toggler-icon"})],-1),y={class:"collapse navbar-collapse",id:"navbarNav"},k={class:"navbar-nav"},D={class:"nav-item"},x={key:0,class:"nav-item"},T={key:1,class:"nav-item"},R={key:2,class:"nav-item"},P={key:3,class:"nav-item"},U={key:4,class:"nav-item"},M={key:5,class:"nav-item"};function N(e,t,s,o,a,r){const n=(0,i.up)("BookOpenPageVariantOutlineIcon"),l=(0,i.up)("HomeIcon"),d=(0,i.up)("SearchIcon"),c=(0,i.up)("BookAlertIcon"),u=(0,i.up)("BookOpenVariant"),m=(0,i.up)("AccountTie"),p=(0,i.up)("AccountDetails");return(0,i.wg)(),(0,i.iD)("nav",b,[(0,i._)("div",w,[(0,i._)("a",_,[(0,i.Wm)(n,{size:38})]),C,(0,i._)("div",y,[(0,i._)("ul",k,[(0,i._)("li",D,[(0,i._)("a",{class:(0,v.C_)(["nav-link","home"===s.page?"active d-flex flex-column align-items-center":"d-flex flex-column align-items-center"]),onClick:t[0]||(t[0]=e=>this.$emit("change-page","home"))},[(0,i.Wm)(l),(0,i.Uk)(" Home ")],2)]),null!==s.loggedUser?((0,i.wg)(),(0,i.iD)("li",x,[(0,i._)("a",{class:(0,v.C_)(["nav-link","search"===s.page?"active d-flex flex-column align-items-center":"d-flex flex-column align-items-center"]),onClick:t[1]||(t[1]=e=>this.$emit("change-page","search"))},[(0,i.Wm)(d),(0,i.Uk)(" Cerca ")],2)])):(0,i.kq)("",!0),null!==s.loggedUser?((0,i.wg)(),(0,i.iD)("li",T,[(0,i._)("a",{class:(0,v.C_)(["nav-link","my-repetitions"===s.page?"active d-flex flex-column align-items-center":"d-flex flex-column align-items-center"]),onClick:t[2]||(t[2]=e=>this.$emit("change-page","my-repetitions"))},[(0,i.Wm)(c),(0,i.Uk)(" Le mie ripetizioni ")],2)])):(0,i.kq)("",!0),null!==s.loggedUser&&s.loggedUser.role?((0,i.wg)(),(0,i.iD)("li",R,[(0,i._)("a",{class:(0,v.C_)(["nav-link","admin-courses"===s.page?"active d-flex flex-column align-items-center":"d-flex flex-column align-items-center"]),onClick:t[3]||(t[3]=e=>this.$emit("change-page","admin-courses"))},[(0,i.Wm)(u),(0,i.Uk)(" Gestione corsi ")],2)])):(0,i.kq)("",!0),null!==s.loggedUser&&s.loggedUser.role?((0,i.wg)(),(0,i.iD)("li",P,[(0,i._)("a",{class:(0,v.C_)(["nav-link","admin-professors"===s.page?"active d-flex flex-column align-items-center":"d-flex flex-column align-items-center"]),onClick:t[4]||(t[4]=e=>this.$emit("change-page","admin-professors"))},[(0,i.Wm)(m),(0,i.Uk)(" Gestione professori ")],2)])):(0,i.kq)("",!0),null!==s.loggedUser&&s.loggedUser.role?((0,i.wg)(),(0,i.iD)("li",U,[(0,i._)("a",{class:(0,v.C_)(["nav-link","admin-teachings"===s.page?"active d-flex flex-column align-items-center":"d-flex flex-column align-items-center"]),onClick:t[5]||(t[5]=e=>this.$emit("change-page","admin-teachings"))},[(0,i.Wm)(p),(0,i.Uk)(" Gestione insegnamenti ")],2)])):(0,i.kq)("",!0),null!==s.loggedUser&&s.loggedUser.role?((0,i.wg)(),(0,i.iD)("li",M,[(0,i._)("a",{class:(0,v.C_)(["nav-link","admin-teachings"===s.page?"active d-flex flex-column align-items-center":"d-flex flex-column align-items-center"]),onClick:t[6]||(t[6]=e=>this.$emit("change-page","admin-repetitions"))},[(0,i.Wm)(p),(0,i.Uk)(" Tutte le ripetizioni ")],2)])):(0,i.kq)("",!0)])])])])}var I=s(4812),W=s(7148),S=s(3843),z=s(1131),O=s(8547),F=s(6997),E=s(6641),A={name:"VerticalBar",components:{HomeIcon:I.Z,SearchIcon:W.Z,BookOpenPageVariantOutlineIcon:S.Z,BookAlertIcon:z.Z,BookOpenVariant:O.Z,AccountDetails:F.Z,AccountTie:E.Z},props:["page","loggedUser"]},j=s(89);const Z=(0,j.Z)(A,[["render",N]]);var q=Z;const H=(0,i._)("nav",{"aria-label":"breadcrumb"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Home")])],-1),V=(0,i._)("h2",null,"Corsi più richiesti!",-1),G={key:0,class:"cards"},L={key:1,class:"cards"},Y=(0,i._)("h2",{class:"pt-5"},"Docenti più richiesti!",-1),B={key:2,class:"cards"},$={class:"cards"};function K(e,t,s,o,a,r){const n=(0,i.up)("LoadingCard"),l=(0,i.up)("CourseCard"),d=(0,i.up)("ProfessorCard");return(0,i.wg)(),(0,i.iD)(i.HY,null,[H,V,0===a.mostRequestedCourse.length?((0,i.wg)(),(0,i.iD)("div",G,[(0,i.Wm)(n,{class:"course-card"}),(0,i.Wm)(n,{class:"course-card"}),(0,i.Wm)(n,{class:"course-card"}),(0,i.Wm)(n,{class:"course-card"})])):((0,i.wg)(),(0,i.iD)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.mostRequestedCourse,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"course-card",key:e.idCourse},[(0,i.Wm)(l,{loggedUser:s.loggedUser,iconUrl:e.iconUrl,title:e.title},null,8,["loggedUser","iconUrl","title"])])))),128))])),Y,0===a.mostRequestedCourse.length?((0,i.wg)(),(0,i.iD)("div",B,[(0,i.Wm)(n,{class:"course-card"}),(0,i.Wm)(n,{class:"course-card"}),(0,i.Wm)(n,{class:"course-card"}),(0,i.Wm)(n,{class:"course-card"})])):(0,i.kq)("",!0),(0,i._)("div",$,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.mostRequestedProfessor,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"professor-card",key:e.serialNumber},[(0,i.Wm)(d,{serialNumber:e.serialNumber,imageUrl:e.imageUrl,title:e.name+" "+e.surname},null,8,["serialNumber","imageUrl","title"])])))),128))])],64)}const J={class:"card"},Q={class:"row"},X=["src"],ee={class:"card-body"},te={class:"card-title"},se={key:0},oe=(0,i._)("a",{href:"#",class:"btn btn-primary shadow-none border-0"},"Prenota",-1),ie=[oe];function ae(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",J,[(0,i._)("div",Q,[(0,i._)("img",{src:s.iconUrl,class:"card-img-top",alt:"Course Card"},null,8,X)]),(0,i._)("div",ee,[(0,i._)("h5",te,(0,v.zw)(s.title),1),null!==s.loggedUser?((0,i.wg)(),(0,i.iD)("div",se,ie)):(0,i.kq)("",!0)])])}var re={name:"CourseCard",props:["loggedUser","iconUrl","title"]};const ne=(0,j.Z)(re,[["render",ae]]);var le=ne;const de={class:"card is-loading",style:{width:"18rem"}},ce=(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"image"})],-1),ue=(0,i._)("div",{class:"card-body"},[(0,i._)("h5",{class:"card-title"})],-1),me=[ce,ue];function pe(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",de,me)}var ge={name:"LoadingCard",props:["iconUrl","title"]};const he=(0,j.Z)(ge,[["render",pe]]);var fe=he;const ve={class:"card",style:{width:"18rem"}},be={class:"card-body"},we={class:"row"},_e=["id"],Ce={class:"col-7 d-flex flex-column justify-content-center"},ye={class:"card-title"},ke=(0,i._)("br",null,null,-1);function De(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",ve,[(0,i._)("div",be,[(0,i._)("div",we,[(0,i._)("div",{id:s.serialNumber,class:"col-5 col-img"},null,8,_e),(0,i._)("div",Ce,[(0,i._)("h5",ye,[(0,i.Uk)((0,v.zw)(s.title.split(" ")[0])+" ",1),ke,(0,i.Uk)(" "+(0,v.zw)(s.title.split(" ")[1]),1)])])])])])}var xe={name:"ProfessorCard",props:["serialNumber","imageUrl","title"],mounted(){f()("#"+this.serialNumber).css("background-image","url("+this.imageUrl+")")}};const Te=(0,j.Z)(xe,[["render",De]]);var Re=Te,Pe={name:"HomeView",data(){return{mostRequestedCourse:[],mostRequestedProfessor:[]}},props:["loggedUser"],components:{CourseCard:le,LoadingCard:fe,ProfessorCard:Re},methods:{getMostRequestedCourse(){let e=this;f().ajax("CourseServlet?operation=mostRequested",{method:"GET",success:t=>{e.mostRequestedCourse=t,e.getMostRequestedProfessor()}})},getMostRequestedProfessor(){let e=this;f().ajax("ProfessorServlet?operation=mostRequested",{method:"GET",success:t=>{e.mostRequestedProfessor=t}})}},mounted(){this.getMostRequestedCourse()}};const Ue=(0,j.Z)(Pe,[["render",K]]);var Me=Ue;const Ne=(0,i._)("nav",{"aria-label":"breadcrumb"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Cerca")])],-1),Ie={class:"row pb-5"},We={class:"col"},Se=(0,i._)("option",{selected:"",value:"default"},"Seleziona materia",-1),ze=["value"],Oe={class:"col"},Fe=(0,i._)("option",{selected:"",value:"default"},"Seleziona professore",-1),Ee=["value"];function Ae(e,t,s,a,r,n){const l=(0,i.up)("CustomToast"),d=(0,i.up)("NewRepetitionModal"),c=(0,i.up)("vue-cal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(d,{modalId:"newRepetition",title:"Vuoi prenotare la seguente ripetizione?",professorName:r.professorNameForModal,courseTitle:r.courseTitleForModal,date:r.dateForModal,time:r.timeForModal,idCourse:r.idCourseForModal,serialNumber:r.serialNumberForModal,loggedUser:s.loggedUser,onChangePage:t[0]||(t[0]=e=>this.$emit("change-page","my-repetitions"))},null,8,["professorName","courseTitle","date","time","idCourse","serialNumber","loggedUser"]),Ne,(0,i._)("div",Ie,[(0,i._)("div",We,[(0,i.wy)((0,i._)("select",{id:"selectCourses",onChange:t[1]||(t[1]=(...e)=>n.coursesChanged&&n.coursesChanged(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedCourse=e),class:"form-select","aria-label":"Select della materia"},[Se,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.courses,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.idCourse,key:e.idCourse},(0,v.zw)(e.title),9,ze)))),128))],544),[[o.bM,r.selectedCourse]])]),(0,i._)("div",Oe,[(0,i.wy)((0,i._)("select",{id:"selectProfessors",onChange:t[3]||(t[3]=(...e)=>n.professorChange&&n.professorChange(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedProfessor=e),class:"form-select","aria-label":"Select del professore"},[Fe,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.professors,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.serialNumber,key:e.serialNumber},(0,v.zw)(e.name)+" "+(0,v.zw)(e.surname),9,Ee)))),128))],544),[[o.bM,r.selectedProfessor]])])]),(0,i.Wm)(c,{onViewChange:n.dateChanged,events:r.events,"on-event-click":n.onEventClick,timeCellHeight:100,locale:"it","active-view":"day","time-from":900,"time-to":1140,"hide-weekends":"","disable-views":["years","year","month","week"]},null,8,["onViewChange","events","on-event-click"])],64)}s(7658);const je=e=>{const t=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];return e.split("-")[2]+" "+t[parseInt(e.split("-")[1])-1]+" "+e.split("-")[0]},Ze=e=>{var t=e.getMonth()+1,s=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(s>9?"":"0")+s].join("-")},qe=e=>{if(-1!==e.indexOf("PM")){const t=e.replace("PM","");return parseInt(t.split(":")[0])+12+":"+t.split(":")[1]}const t=e.replace("AM","");return t.split(":")[0]+":"+t.split(":")[1]},He={id:"liveToast",class:"m-2 toast align-items-center text-bg-primary border-0 position-absolute bottom-0 end-0",role:"alert","aria-live":"assertive","aria-atomic":"true"},Ve=(0,i._)("div",{class:"d-flex"},[(0,i._)("div",{class:"toast-body"}),(0,i._)("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})],-1),Ge=[Ve];function Le(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",He,Ge)}var Ye={name:"CustomToast"};const Be=(0,j.Z)(Ye,[["render",Le]]);var $e=Be;const Ke=["id"],Je={class:"modal-dialog modal-dialog-centered"},Qe={class:"modal-content"},Xe={class:"modal-header"},et={class:"modal-title fs-5",id:"exampleModalLabel"},tt=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),st={class:"modal-body"},ot={class:"mb-3 row"},it=(0,i._)("label",{class:"col-sm-2 col-form-label"},"Prof.",-1),at={class:"col-sm-10"},rt=["value"],nt={class:"mb-3 row"},lt=(0,i._)("label",{class:"col-sm-2 col-form-label"},"Corso",-1),dt={class:"col-sm-10"},ct=["value"],ut={class:"mb-3 row"},mt=(0,i._)("label",{class:"col-sm-2 col-form-label"},"Data",-1),pt={class:"col-sm-10"},gt=["value"],ht={class:"mb-3 row"},ft=(0,i._)("label",{class:"col-sm-2 col-form-label"},"Ora",-1),vt={class:"col-sm-10"},bt=["value"],wt={class:"modal-footer"},_t=(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Chiudi",-1);function Ct(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",Je,[(0,i._)("div",Qe,[(0,i._)("div",Xe,[(0,i._)("h1",et,(0,v.zw)(s.title),1),tt]),(0,i._)("div",st,[(0,i._)("div",ot,[it,(0,i._)("div",at,[(0,i._)("input",{type:"text",class:"form-control",value:s.professorName,disabled:""},null,8,rt)])]),(0,i._)("div",nt,[lt,(0,i._)("div",dt,[(0,i._)("input",{type:"text",class:"form-control",value:s.courseTitle,disabled:""},null,8,ct)])]),(0,i._)("div",ut,[mt,(0,i._)("div",pt,[(0,i._)("input",{type:"date",class:"form-control",value:s.date,disabled:""},null,8,gt)])]),(0,i._)("div",ht,[ft,(0,i._)("div",vt,[(0,i._)("input",{type:"time",class:"form-control",value:s.time,disabled:""},null,8,bt)])])]),(0,i._)("div",wt,[_t,(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.getIdTeaching&&r.getIdTeaching(...e)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Ok")])])])],8,Ke)}var yt=s(2166);const kt=e=>{f()(".toast-body").text(e)};var Dt={name:"NewRepetitionModal",props:["modalId","title","professorName","courseTitle","date","time","idCourse","serialNumber","loggedUser"],methods:{formatTime:qe,changeToastMessage:kt,openToast(){const e=f()("#liveToast"),t=new yt.FN(e);t.show()},getIdTeaching(){let e=this;f().ajax("TeachingServlet",{method:"GET",data:{operation:"getIdTeaching",serialNumber:e.serialNumber,idCourse:e.idCourse},success(t){e.executeOperation(t.idTeaching)}})},executeOperation(e){let t=this;f().ajax("RepetitionServlet",{method:"POST",data:{operation:"add",email:t.loggedUser.email,idTeaching:e,date:t.date,time:qe(t.time)+":00"},success:()=>{t.$emit("change-page")}})}}};const xt=(0,j.Z)(Dt,[["render",Ct]]);var Tt=xt,Rt=s(3886),Pt={name:"SearchView",data(){return{userRepetitions:null,professors:[],courses:[],selectedCourse:"default",selectedProfessor:"default",date:null,events:[],professorNameForModal:"",courseTitleForModal:"",dateForModal:"",timeForModal:"",serialNumberForModal:"",idCourseForModal:""}},props:["loggedUser"],components:{CustomToast:$e,VueCal:Rt.Z,NewRepetitionModal:Tt},methods:{formatDate:je,fromDateToString:Ze,repetitionExists(e,t,s,o){return e.some((e=>qe(e.time)===t+":00"&&e.teaching.professor.serialNumber===s&&e.teaching.course.idCourse===o))},generateNewRepetitions(e){if(this.events=[],"default"!==this.selectedCourse&&"default"===this.selectedProfessor)for(let t=15;t<=18;t++)this.professors.forEach((s=>{this.repetitionExists(e,t,s.serialNumber,this.selectedCourse)||this.events.push({start:this.date+" "+t+":00",end:this.date+" "+parseInt(t+1)+":00",title:this.getSelectedCourseText(),content:s.name+" "+s.surname,class:"materia",serialNumber:s.serialNumber,idCourse:this.selectedCourse})}));else if("default"===this.selectedCourse&&"default"!==this.selectedProfessor)for(let t=15;t<=18;t++)this.courses.forEach((s=>{this.repetitionExists(e,t,this.selectedProfessor,s.idCourse)||this.events.push({start:this.date+" "+t+":00",end:this.date+" "+parseInt(t+1)+":00",title:s.title,content:this.getSelectedProfessorText(),class:"materia",serialNumber:this.selectedProfessor,idCourse:s.idCourse})}));else if("default"!==this.selectedCourse&&"default"!==this.selectedProfessor)for(let t=15;t<=18;t++)this.repetitionExists(e,t,this.selectedProfessor,this.selectedCourse)||this.events.push({start:this.date+" "+t+":00",end:this.date+" "+parseInt(t+1)+":00",title:this.getSelectedCourseText(),content:this.getSelectedProfessorText(),class:"materia",serialNumber:this.selectedProfessor,idCourse:this.selectedCourse})},getExistingRepetition(){null===this.date&&(this.date=Ze(new Date));let e="";if("default"===this.selectedProfessor&&"default"!==this.selectedCourse)e="selectByCourseAndDate";else if("default"!==this.selectedProfessor&&"default"===this.selectedCourse)e="selectByProfessorAndDate";else{if("default"===this.selectedProfessor||"default"===this.selectedCourse)return void(this.events=[]);e="selectByProfessorCourseAndDate"}let t=this;f().ajax("RepetitionServlet",{method:"GET",data:{operation:e,idCourse:t.selectedCourse,serialNumber:t.selectedProfessor,date:t.date},success(e){t.generateNewRepetitions(e)}})},getUserRepetitions(){let e=this;f().ajax("RepetitionServlet",{method:"GET",data:{operation:"selectByEmail",email:e.loggedUser.email}})},getProfessors(){let e=this;f().ajax("ProfessorServlet",{method:"GET",data:{operation:"select"},success:t=>{e.professors=t}})},getCourses(){let e=this;f().ajax("CourseServlet",{method:"GET",data:{operation:"select"},success:t=>{e.courses=t}})},coursesChanged(e){let t=this;const s=e.target.value;if("default"===s)return t.getProfessors(),void t.getExistingRepetition();f().ajax("TeachingServlet",{method:"GET",data:{operation:"selectByCourse",idCourse:s},success:e=>{t.professors=[],e.forEach((e=>{t.professors.push(e.professor)})),t.getExistingRepetition()}})},professorChange(e){let t=this;const s=e.target.value;if("default"===s)return t.getCourses(),void t.getExistingRepetition();f().ajax("TeachingServlet",{method:"GET",data:{operation:"selectByProfessor",serialNumber:s},success:e=>{t.courses=[],e.forEach((e=>{t.courses.push(e.course)})),t.getExistingRepetition()}})},dateChanged({startDate:e}){this.date=Ze(e),"default"!==this.selectedCourse&&this.getExistingRepetition()},getSelectedCourseText(){const e=document.getElementById("selectCourses");return e.options[e.selectedIndex].text},getSelectedProfessorText(){const e=document.getElementById("selectProfessors");return e.options[e.selectedIndex].text},onEventClick(e,t){this.professorNameForModal=e.content,this.courseTitleForModal=e.title,this.dateForModal=Ze(e.start),this.timeForModal=e.start.getHours()+":00",this.serialNumberForModal=e.serialNumber,this.idCourseForModal=e.idCourse;const s=new yt.u_(f()("#newRepetition"));s.show(),t.stopPropagation()}},mounted(){this.getProfessors(),this.getCourses()}};const Ut=(0,j.Z)(Pt,[["render",Ae]]);var Mt=Ut;const Nt=(0,i._)("nav",{"aria-label":"breadcrumb"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Le mie ripetizioni")])],-1),It=(0,i._)("h4",{class:"pt-5"},"Ripetizioni da effettuare",-1),Wt={key:0},St={key:1},zt={key:0},Ot={key:1},Ft={key:0},Et=(0,i._)("h4",{class:"pt-5"},"Ripetizioni confermate",-1),At={key:2},jt={key:3},Zt={key:0},qt={key:1},Ht={key:0},Vt=(0,i._)("h4",{class:"pt-5"},"Ripetizioni cancellate",-1),Gt={key:4},Lt={key:5},Yt={key:0},Bt={key:1},$t={key:0};function Kt(e,t,s,o,a,r){const n=(0,i.up)("CustomToast"),l=(0,i.up)("MyRepetitionCardLoading"),d=(0,i.up)("MyRepetitionCard");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{ref:"customToast"},null,512),Nt,It,null===a.pendingRepetitions?((0,i.wg)(),(0,i.iD)("div",Wt,[(0,i.Wm)(l),(0,i.Wm)(l),(0,i.Wm)(l)])):((0,i.wg)(),(0,i.iD)("div",St,[0===a.pendingRepetitions.length?((0,i.wg)(),(0,i.iD)("div",zt," Non hai ripetizioni da effettuare ")):((0,i.wg)(),(0,i.iD)("div",Ot,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pendingRepetitions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.idRepetition},[0===e.state?((0,i.wg)(),(0,i.iD)("div",Ft,[(0,i.Wm)(d,{repetition:e,onConfirmRepetition:r.moveRepetitionToConfirmedRepetitions,onDeleteRepetition:r.moveRepetitionToDeletedRepetitions},null,8,["repetition","onConfirmRepetition","onDeleteRepetition"])])):(0,i.kq)("",!0)])))),128))]))])),Et,null===a.confirmedRepetitions?((0,i.wg)(),(0,i.iD)("div",At,[(0,i.Wm)(l),(0,i.Wm)(l),(0,i.Wm)(l)])):((0,i.wg)(),(0,i.iD)("div",jt,[0===a.confirmedRepetitions.length?((0,i.wg)(),(0,i.iD)("div",Zt," Non hai ripetizioni confermate ")):((0,i.wg)(),(0,i.iD)("div",qt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.confirmedRepetitions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.idRepetition},[1===e.state?((0,i.wg)(),(0,i.iD)("div",Ht,[(0,i.Wm)(d,{repetition:e},null,8,["repetition"])])):(0,i.kq)("",!0)])))),128))]))])),Vt,null===a.deletedRepetitions?((0,i.wg)(),(0,i.iD)("div",Gt,[(0,i.Wm)(l),(0,i.Wm)(l),(0,i.Wm)(l)])):((0,i.wg)(),(0,i.iD)("div",Lt,[0===a.deletedRepetitions.length?((0,i.wg)(),(0,i.iD)("div",Yt," Non hai ripetizioni cancellate ")):((0,i.wg)(),(0,i.iD)("div",Bt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.deletedRepetitions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.idRepetition},[2===e.state?((0,i.wg)(),(0,i.iD)("div",$t,[(0,i.Wm)(d,{repetition:e},null,8,["repetition"])])):(0,i.kq)("",!0)])))),128))]))]))],64)}const Jt={class:"w-100 d-flex align-items-center"},Qt={key:0,class:"trash-icon mb-3"},Xt={class:"w-100 card-row d-flex align-items-center mb-3"},es={class:"card my-repetition-card me-5"},ts={class:"card-body"},ss={class:"card-title"},os={class:"col"},is={class:"row"},as={class:"col text-start"},rs={class:"card-text"},ns={class:"col text-end"},ls={key:0},ds=(0,i._)("span",{class:"fw-bold"},"Prenotata",-1),cs=[ds],us={key:1},ms=(0,i._)("span",{class:"fw-bold"},"Effettuata",-1),ps=[ms],gs={key:2},hs=(0,i._)("span",{class:"fw-bold"},"Cancellata",-1),fs=[hs],vs=["data-bs-target"];function bs(e,t,s,o,a,r){const n=(0,i.up)("MyRepetitionModal"),l=(0,i.up)("DeleteIcon"),d=(0,i.up)("CheckIcon");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{onConfirmRepetition:t[0]||(t[0]=e=>this.$emit("confirm-repetition",this.repetition)),modalId:"modalConfirm"+s.repetition.idRepetition,newState:"1",operation:"confirmRepetition",title:"Desideri segnare come effettuata la seguente ripetizione ?",repetition:s.repetition},null,8,["modalId","repetition"]),(0,i.Wm)(n,{onDeleteRepetition:t[1]||(t[1]=e=>this.$emit("delete-repetition",this.repetition)),modalId:"modalDelete"+s.repetition.idRepetition,newState:"2",operation:"deleteRepetition",title:"Desideri segnare come cancellata la seguente ripetizione ?",repetition:s.repetition},null,8,["modalId","repetition"]),(0,i._)("div",Jt,[0===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",Qt,[(0,i.Wm)(l,{"data-bs-toggle":"modal","data-bs-target":"#modalDelete"+s.repetition.idRepetition},null,8,["data-bs-target"])])):(0,i.kq)("",!0),(0,i._)("div",Xt,[(0,i._)("div",es,[(0,i._)("div",ts,[(0,i._)("h5",ss,(0,v.zw)(s.repetition.teaching.course.title),1),(0,i._)("div",os,[(0,i._)("div",is,[(0,i._)("div",as,[(0,i._)("p",rs," Ripetizione con "+(0,v.zw)(s.repetition.teaching.professor.name)+" "+(0,v.zw)(s.repetition.teaching.professor.surname)+" il giorno "+(0,v.zw)(r.formatDate(s.repetition.date))+" alle "+(0,v.zw)(r.formatTime(s.repetition.time)),1)]),(0,i._)("div",ns,[0===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",ls,cs)):1===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",us,ps)):2===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",gs,fs)):(0,i.kq)("",!0)])])])])])]),0===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"mb-3","data-bs-toggle":"modal","data-bs-target":"#modalConfirm"+s.repetition.idRepetition},[(0,i.Wm)(d)],8,vs)):(0,i.kq)("",!0)])],64)}var ws=s(5624),_s=s(5921);const Cs=["id"],ys={class:"modal-dialog modal-dialog-centered"},ks={class:"modal-content"},Ds={class:"modal-header"},xs={class:"modal-title fs-5",id:"exampleModalLabel"},Ts=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Rs={class:"modal-body"},Ps={class:"modal-footer"},Us=(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Chiudi",-1);function Ms(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",ys,[(0,i._)("div",ks,[(0,i._)("div",Ds,[(0,i._)("h1",xs,(0,v.zw)(s.title),1),Ts]),(0,i._)("div",Rs," Ripetizione di "+(0,v.zw)(s.repetition.teaching.course.title)+" con "+(0,v.zw)(s.repetition.teaching.professor.name)+" "+(0,v.zw)(s.repetition.teaching.professor.surname)+" del giorno "+(0,v.zw)(r.formatDate(s.repetition.date))+" alle "+(0,v.zw)(r.formatTime(s.repetition.time)),1),(0,i._)("div",Ps,[Us,(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.executeOperation&&r.executeOperation(...e)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Ok")])])])],8,Cs)}var Ns={name:"MyRepetitionModal",props:["title","repetition","modalId","newState"],methods:{formatDate:je,formatTime:qe,changeToastMessage:kt,openToast(){const e=f()("#liveToast"),t=new yt.FN(e);t.show()},executeOperation(){let e=this;f().ajax("RepetitionServlet",{method:"POST",data:{operation:"edit",idRepetition:e.repetition.idRepetition,newState:e.newState},xhrFields:{withCredentials:!0},crossDomain:!0,success(){"1"===e.newState?(kt("Prenotazione confermata con successo!"),e.$emit("confirm-repetition")):"2"===e.newState&&(kt("Prenotazione eliminata con successo!"),e.$emit("delete-repetition")),e.openToast()}})}}};const Is=(0,j.Z)(Ns,[["render",Ms]]);var Ws=Is,Ss={name:"MyRepetitionCard",props:["repetition"],components:{MyRepetitionModal:Ws,CheckIcon:ws.Z,DeleteIcon:_s.Z},emits:["delete-repetition","confirm-repetition"],methods:{formatDate:je,formatTime:qe,moveRepetitionToDeletedRepetitions(){this.$emit("delete-repetition",this.repetition)}}};const zs=(0,j.Z)(Ss,[["render",bs]]);var Os=zs;const Fs={class:"card my-repetition-card mb-3 is-loading"},Es=(0,i.uE)('<div class="card-body row"><div class="col text-start"><h5 class="card-title"></h5></div><div class="col text-start"><p class="card-text"></p></div></div>',1),As=[Es];function js(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",Fs,As)}var Zs={name:"MyRepetitionCardLoading",props:["title","professor","date","time"],methods:{formatDate:je,formatTime:qe}};const qs=(0,j.Z)(Zs,[["render",js]]);var Hs=qs,Vs={name:"MyRepetition",props:["loggedUserEmail"],data(){return{loggedUserRepetitions:null,pendingRepetitions:null,confirmedRepetitions:null,deletedRepetitions:null,todayRepetitions:null}},components:{MyRepetitionCard:Os,MyRepetitionCardLoading:Hs,CustomToast:$e},methods:{getUserRepetitions(e){let t=this;f().ajax("RepetitionServlet",{method:"GET",data:{operation:"selectByEmail",email:e},xhrFields:{withCredentials:!0},crossDomain:!0,success:e=>{setTimeout((()=>{t.loggedUserRepetitions=e,t.loadRepetitionsByState(t.loggedUserRepetitions)}),2e3)}})},loadRepetitionsByState(e){this.pendingRepetitions=[],this.confirmedRepetitions=[],this.deletedRepetitions=[],e.forEach((e=>{switch(e.state){case 0:this.pendingRepetitions.push(e);break;case 1:this.confirmedRepetitions.push(e);break;case 2:this.deletedRepetitions.push(e);break}}))},moveRepetitionToDeletedRepetitions(e){for(var t=0;t<this.pendingRepetitions.length;t++)this.pendingRepetitions[t]==e&&this.pendingRepetitions.splice(t,1);e.state=2,this.deletedRepetitions.push(e)},moveRepetitionToConfirmedRepetitions(e){for(var t=0;t<this.pendingRepetitions.length;t++)this.pendingRepetitions[t]==e&&this.pendingRepetitions.splice(t,1);e.state=1,this.confirmedRepetitions.push(e)}},mounted(){this.getUserRepetitions(this.loggedUserEmail)}};const Gs=(0,j.Z)(Vs,[["render",Kt]]);var Ls=Gs;const Ys=(0,i._)("nav",{"aria-label":"breadcrumb"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Gestione corsi")])],-1),Bs={class:"row pb-5"},$s={class:"col-5"},Ks=(0,i._)("div",{class:"row"},[(0,i._)("p",{"data-bs-toggle":"modal","data-bs-target":"#addModal"}," Aggiungi corso")],-1),Js={key:0},Qs={key:1},Xs={key:0},eo={key:1},to={class:"list-group"};function so(e,t,s,a,r,n){const l=(0,i.up)("CustomToast"),d=(0,i.up)("AddCourseModal"),c=(0,i.up)("LoadingRow"),u=(0,i.up)("CourseItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(d,{modalId:"addModal",onNewCourse:n.updateCourses},null,8,["onNewCourse"]),Ys,(0,i._)("div",Bs,[(0,i._)("div",$s,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchField=e),type:"text",class:"form-control p-2",placeholder:"Cerca corso"},null,512),[[o.nr,r.searchField]])])]),Ks,null===r.courses?((0,i.wg)(),(0,i.iD)("div",Js,[(0,i.Wm)(c),(0,i.Wm)(c),(0,i.Wm)(c)])):((0,i.wg)(),(0,i.iD)("div",Qs,[0===r.courses.length?((0,i.wg)(),(0,i.iD)("div",Xs," Nessun corso presente ")):((0,i.wg)(),(0,i.iD)("div",eo,[(0,i._)("ul",to,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.courses,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"course-card",key:e.idCourse},[(0,i.Wm)(u,{course:e,onDeleteCourse:n.removeCourse},null,8,["course","onDeleteCourse"])])))),128))])]))]))],64)}const oo={class:"card my-repetition-card mb-3 is-loading"},io=(0,i.uE)('<div class="card-body row"><div class="col text-start"><h5 class="card-title"></h5></div><div class="col text-start"><p class="card-text"></p></div></div>',1),ao=[io];function ro(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",oo,ao)}var no={name:"LoadingRow"};const lo=(0,j.Z)(no,[["render",ro]]);var co=lo;const uo={class:"card my-repetition-card me-5"},mo={class:"card-body"},po={class:"row"},go=["src"],ho={class:"col text-start"},fo={class:"col text-end"};function vo(e,t,s,o,a,r){const n=(0,i.up)("CourseModal"),l=(0,i.up)("TrashCanOutline");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{onDeleteCourse:t[0]||(t[0]=e=>this.$emit("delete-course",this.course)),modalId:"modalDelete"+s.course.idCourse,title:"Desideri cancellare il seguente corso ?",course:s.course},null,8,["modalId","course"]),(0,i._)("div",{onContextmenu:t[1]||(t[1]=(...t)=>e.openMenu&&e.openMenu(...t)),class:"w-100 card-row d-flex align-items-center mb-3"},[(0,i._)("div",uo,[(0,i._)("div",mo,[(0,i._)("div",po,[(0,i._)("img",{class:"card-img-top w-10",alt:"Immagine del corso",src:s.course.iconUrl},null,8,go),(0,i._)("div",ho,(0,v.zw)(s.course.title),1),(0,i._)("div",fo,[(0,i.Wm)(l,{"data-bs-toggle":"modal","data-bs-target":"#modalDelete"+s.course.idCourse},null,8,["data-bs-target"])])])])])],32)],64)}var bo=s(5286);const wo=["id"],_o={class:"modal-dialog modal-dialog-centered"},Co={class:"modal-content"},yo={class:"modal-header"},ko={class:"modal-title fs-5",id:"exampleModalLabel"},Do=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),xo={class:"modal-body"},To={class:"modal-footer"},Ro=(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Chiudi",-1);function Po(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",_o,[(0,i._)("div",Co,[(0,i._)("div",yo,[(0,i._)("h1",ko,(0,v.zw)(s.title),1),Do]),(0,i._)("div",xo,(0,v.zw)(s.course.title),1),(0,i._)("div",To,[Ro,(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.executeOperation&&r.executeOperation(...e)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Ok")])])])],8,wo)}var Uo={name:"CourseModal",props:["title","course","modalId"],methods:{changeToastMessage:kt,openToast(){const e=f()("#liveToast"),t=new yt.FN(e);this.changeToastMessage("Corso cancellato con successo"),t.show()},executeOperation(){let e=this;f().ajax("CourseServlet",{method:"POST",data:{operation:"delete",idCourse:e.course.idCourse},xhrFields:{withCredentials:!0},crossDomain:!0,success(){e.$emit("delete-course"),e.openToast()}})}}};const Mo=(0,j.Z)(Uo,[["render",Po]]);var No=Mo,Io={name:"CourseItem",props:["course"],components:{TrashCanOutline:bo.Z,CourseModal:No},emits:["delete-course"]};const Wo=(0,j.Z)(Io,[["render",vo]]);var So=Wo;const zo=["id"],Oo={class:"modal-dialog modal-dialog-centered"},Fo={class:"modal-content"},Eo={class:"modal-header"},Ao=(0,i._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Crea un nuovo corso",-1),jo={class:"modal-body"},Zo={class:"row"},qo={class:"row"},Ho={class:"modal-footer"},Vo=["disabled"];function Go(e,t,s,a,r,n){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",Oo,[(0,i._)("div",Fo,[(0,i._)("div",Eo,[Ao,(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>n.clearInput&&n.clearInput(...e)),"aria-label":"Close"})]),(0,i._)("div",jo,[(0,i._)("div",Zo,[(0,i.Uk)(" Titolo del corso: "),(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>r.titleCourse=e),required:"true"},null,512),[[o.nr,r.titleCourse]])]),(0,i._)("div",qo,[(0,i.Uk)(" Immagine del corso: "),(0,i.wy)((0,i._)("input",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>r.iconUrl=e),type:"text",required:"true"},null,512),[[o.nr,r.iconUrl]])])]),(0,i._)("div",Ho,[(0,i._)("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=(...e)=>n.clearInput&&n.clearInput(...e)),"data-bs-dismiss":"modal"},"Annulla"),(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>n.executeOperation&&n.executeOperation(...e)),disabled:r.titleCourse.length<=0||r.iconUrl.length<=0,type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Aggiungi ",8,Vo)])])])],8,zo)}var Lo={name:"AddCourseModal",props:["modalId"],emits:["new-course"],data(){return{titleCourse:"",iconUrl:""}},methods:{changeToastMessage:kt,openToast(e){const t=f()("#liveToast"),s=new yt.FN(t);this.changeToastMessage(e),s.show()},clearInput(){this.titleCourse="",this.iconUrl=""},executeOperation(){let e=this;f().ajax("CourseServlet",{method:"POST",data:{operation:"add",title:e.titleCourse,iconUrl:e.iconUrl},xhrFields:{withCredentials:!0},crossDomain:!0,success(t){void 0!==t.error?e.openToast("Corso già presente"):(e.$emit("new-course",t),e.openToast("Corso aggiunto con successo"))}}),e.clearInput()}}};const Yo=(0,j.Z)(Lo,[["render",Go]]);var Bo=Yo,$o={name:"AdminCourse",data(){return{courses:null,searchField:""}},components:{LoadingRow:co,CourseItem:So,CustomToast:$e,AddCourseModal:Bo},methods:{getCourses(){let e=this;f().ajax("CourseServlet?operation=select",{method:"GET",success:t=>{e.courses=t}})},removeCourse(e){for(var t=0;t<this.courses.length;t++)this.courses[t]==e&&this.courses.splice(t,1)},updateCourses(e){this.courses.push(e)}},watch:{searchField:function(e){if(""===e)return void this.getCourses();let t=this;f().ajax("CourseServlet",{method:"GET",data:{operation:"search",searchField:e},success(e){t.courses=e}})}},mounted(){this.getCourses()}};const Ko=(0,j.Z)($o,[["render",so]]);var Jo=Ko;const Qo=(0,i._)("nav",{"aria-label":"breadcrumb"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Gestione professori")])],-1),Xo={class:"row pb-5"},ei={class:"col-5"},ti=(0,i._)("div",{class:"row"},[(0,i._)("p",{"data-bs-toggle":"modal","data-bs-target":"#addModal"}," Aggiungi insegnante")],-1),si={key:0},oi={key:1},ii={key:0},ai={key:1},ri={class:"list-group"};function ni(e,t,s,a,r,n){const l=(0,i.up)("CustomToast"),d=(0,i.up)("AddProfessorModal"),c=(0,i.up)("LoadingRow"),u=(0,i.up)("ProfessorItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(d,{modalId:"addModal",onNewProfessor:n.updateProfessors},null,8,["onNewProfessor"]),Qo,(0,i._)("div",Xo,[(0,i._)("div",ei,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchField=e),onChange:t[1]||(t[1]=(...t)=>e.textFieldChange&&e.textFieldChange(...t)),type:"text",class:"form-control p-2",placeholder:"Cerca professore"},null,544),[[o.nr,r.searchField]])])]),ti,null===r.professors?((0,i.wg)(),(0,i.iD)("div",si,[(0,i.Wm)(c),(0,i.Wm)(c),(0,i.Wm)(c)])):((0,i.wg)(),(0,i.iD)("div",oi,[0===r.professors.length?((0,i.wg)(),(0,i.iD)("div",ii," Nessun professore presente ")):((0,i.wg)(),(0,i.iD)("div",ai,[(0,i._)("ul",ri,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.professors,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"course-card",key:e.serialNumber},[(0,i.Wm)(u,{professor:e,onDeleteProfessor:n.removeProfessor},null,8,["professor","onDeleteProfessor"])])))),128))])]))]))],64)}const li={class:"card my-repetition-card professor-item me-5"},di={class:"card-body"},ci={class:"row"},ui=["id"],mi={class:"col-10 text-start"},pi={class:"col-1 text-end"};function gi(e,t,s,o,a,r){const n=(0,i.up)("ProfessorModal"),l=(0,i.up)("TrashCanOutline");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{onDeleteProfessor:t[0]||(t[0]=e=>this.$emit("delete-professor",this.professor)),modalId:"modalDelete"+s.professor.serialNumber,title:"Desideri cancellare il seguente insegnante ?",professor:s.professor},null,8,["modalId","professor"]),(0,i._)("div",{onContextmenu:t[1]||(t[1]=(...t)=>e.openMenu&&e.openMenu(...t)),class:"w-100 card-row d-flex align-items-center mb-3"},[(0,i._)("div",li,[(0,i._)("div",di,[(0,i._)("div",ci,[(0,i._)("div",{class:"col-1 col-img",id:s.professor.serialNumber},null,8,ui),(0,i._)("div",mi,(0,v.zw)(s.professor.serialNumber)+" "+(0,v.zw)(s.professor.surname)+" "+(0,v.zw)(s.professor.name),1),(0,i._)("div",pi,[(0,i.Wm)(l,{class:"pt-1 pr-1","data-bs-toggle":"modal","data-bs-target":"#modalDelete"+s.professor.serialNumber},null,8,["data-bs-target"])])])])])],32)],64)}const hi=["id"],fi={class:"modal-dialog modal-dialog-centered"},vi={class:"modal-content"},bi={class:"modal-header"},wi={class:"modal-title fs-5",id:"exampleModalLabel"},_i=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ci={class:"modal-body"},yi={class:"modal-footer"},ki=(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Chiudi",-1);function Di(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",fi,[(0,i._)("div",vi,[(0,i._)("div",bi,[(0,i._)("h1",wi,(0,v.zw)(s.title),1),_i]),(0,i._)("div",Ci,(0,v.zw)(s.professor.surname)+" "+(0,v.zw)(s.professor.name)+" "+(0,v.zw)(s.professor.serialNumber),1),(0,i._)("div",yi,[ki,(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.executeOperation&&r.executeOperation(...e)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Ok")])])])],8,hi)}var xi={name:"ProfessorModal",props:["professor","title","modalId"],methods:{changeToastMessage:kt,openToast(){const e=f()("#liveToast"),t=new yt.FN(e);this.changeToastMessage("Professore cancellato con successo"),t.show()},executeOperation(){let e=this;f().ajax("ProfessorServlet",{method:"POST",data:{operation:"delete",serialNumber:e.professor.serialNumber},xhrFields:{withCredentials:!0},crossDomain:!0,success(){e.$emit("delete-professor"),e.openToast()}})}}};const Ti=(0,j.Z)(xi,[["render",Di]]);var Ri=Ti,Pi={name:"ProfessorItem",props:["professor"],components:{TrashCanOutline:bo.Z,ProfessorModal:Ri},emits:["delete-professor"],mounted(){f()("#"+this.professor.serialNumber).css("background-image","url("+this.professor.imageUrl+")")}};const Ui=(0,j.Z)(Pi,[["render",gi]]);var Mi=Ui;const Ni=["id"],Ii={class:"modal-dialog modal-dialog-centered"},Wi={class:"modal-content"},Si={class:"modal-header"},zi=(0,i._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Aggiungi un nuovo insegnante",-1),Oi={class:"modal-body"},Fi={class:"row"},Ei={class:"row"},Ai={class:"row"},ji={class:"row"},Zi={class:"modal-footer"},qi=["disabled"];function Hi(e,t,s,a,r,n){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",Ii,[(0,i._)("div",Wi,[(0,i._)("div",Si,[zi,(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>n.clearInput&&n.clearInput(...e)),"aria-label":"Close"})]),(0,i._)("div",Oi,[(0,i._)("div",Fi,[(0,i.Uk)(" Matricola: "),(0,i.wy)((0,i._)("input",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>r.serialNumber=e),type:"text",minlength:"6",maxlength:"6",required:"true"},null,512),[[o.nr,r.serialNumber]])]),(0,i._)("div",Ei,[(0,i.Uk)(" Nome: "),(0,i.wy)((0,i._)("input",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>r.name=e),type:"text",required:"true"},null,512),[[o.nr,r.name]])]),(0,i._)("div",Ai,[(0,i.Uk)(" Cognome: "),(0,i.wy)((0,i._)("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>r.surname=e),type:"text",required:"true"},null,512),[[o.nr,r.surname]])]),(0,i._)("div",ji,[(0,i.Uk)(" Immagine del professore: "),(0,i.wy)((0,i._)("input",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>r.imageUrl=e),type:"text",required:"true"},null,512),[[o.nr,r.imageUrl]])])]),(0,i._)("div",Zi,[(0,i._)("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=(...e)=>n.clearInput&&n.clearInput(...e)),"data-bs-dismiss":"modal"},"Annulla"),(0,i._)("button",{onClick:t[6]||(t[6]=(...e)=>n.executeOperation&&n.executeOperation(...e)),type:"button",disabled:6!=r.serialNumber.length||r.name.length<=0||r.surname.length<=0||r.imageUrl.length<=0,class:"btn btn-primary","data-bs-dismiss":"modal"},"Aggiungi",8,qi)])])])],8,Ni)}var Vi={name:"AddProfessorModal",props:["modalId"],emits:["new-professor"],data(){return{serialNumber:"",imageUrl:"",name:"",surname:""}},methods:{changeToastMessage:kt,openToast(e){const t=f()("#liveToast"),s=new yt.FN(t);this.changeToastMessage(e),s.show()},clearInput(){this.serialNumber="",this.imageUrl="",this.name="",this.surname=""},executeOperation(){let e=this;f().ajax("ProfessorServlet",{method:"POST",data:{operation:"add",serialNumber:e.serialNumber,imageUrl:e.imageUrl,name:e.name,surname:e.surname},xhrFields:{withCredentials:!0},crossDomain:!0,success(t){void 0!==t.error?e.openToast("Professore già presente"):(e.$emit("new-professor",t),e.openToast("Professore inserito con successo"))}}),e.clearInput()}}};const Gi=(0,j.Z)(Vi,[["render",Hi]]);var Li=Gi,Yi={name:"AdminProfessors",data(){return{professors:null,searchField:""}},components:{LoadingRow:co,ProfessorItem:Mi,CustomToast:$e,AddProfessorModal:Li},methods:{getProfessors(){let e=this;f().ajax("ProfessorServlet?operation=select",{method:"GET",success:t=>{e.professors=t}})},removeProfessor(e){for(var t=0;t<this.professors.length;t++)this.professors[t]==e&&this.professors.splice(t,1)},updateProfessors(e){this.professors.push(e),this.professors.sort(((e,t)=>e.serialNumber.localeCompare(t.serialNumber)))}},watch:{searchField:function(e){if(""===e)return void this.getProfessors();let t=this;f().ajax("ProfessorServlet",{method:"GET",data:{operation:"search",searchField:e},success(e){t.professors=e}})}},mounted(){this.getProfessors()}};const Bi=(0,j.Z)(Yi,[["render",ni]]);var $i=Bi;const Ki=(0,i._)("nav",{"aria-label":"breadcrumb"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Gestione insegnamenti")])],-1),Ji={class:"row pb-5"},Qi={class:"col-5"},Xi=(0,i._)("p",{"data-bs-toggle":"modal","data-bs-target":"#addModal"}," Aggiungi insegnamento",-1),ea={key:0},ta={key:1},sa={key:0},oa={key:1},ia={class:"list-group"};function aa(e,t,s,a,r,n){const l=(0,i.up)("CustomToast"),d=(0,i.up)("AddTeachingModal"),c=(0,i.up)("LoadingRow"),u=(0,i.up)("TeachingItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(d,{modalId:"addModal",onNewTeaching:n.updateTeaching},null,8,["onNewTeaching"]),Ki,(0,i._)("div",Ji,[(0,i._)("div",Qi,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchField=e),type:"text",class:"form-control p-2",placeholder:"Cerca insegnamento"},null,512),[[o.nr,r.searchField]])])]),Xi,null===r.teachings?((0,i.wg)(),(0,i.iD)("div",ea,[(0,i.Wm)(c),(0,i.Wm)(c),(0,i.Wm)(c)])):((0,i.wg)(),(0,i.iD)("div",ta,[0===r.teachings.length?((0,i.wg)(),(0,i.iD)("div",sa," Nessun insegnamento presente ")):((0,i.wg)(),(0,i.iD)("div",oa,[(0,i._)("ul",ia,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.teachings,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"course-card",key:e.idTeaching},[(0,i.Wm)(u,{teaching:e,onDeleteTeaching:n.removeTeaching},null,8,["teaching","onDeleteTeaching"])])))),128))])]))]))],64)}const ra={class:"card my-repetition-card me-5"},na={class:"card-body"},la={class:"row"},da={class:"col text-start"},ca={class:"col text-start"},ua={class:"col text-end"};function ma(e,t,s,o,a,r){const n=(0,i.up)("TeachingModal"),l=(0,i.up)("TrashCanOutline");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{onDeleteTeaching:t[0]||(t[0]=e=>this.$emit("delete-teaching",this.teaching)),modalId:"modalDelete"+s.teaching.idTeaching,title:"Desideri cancellare il seguente insegnamento ?",teaching:s.teaching},null,8,["modalId","teaching"]),(0,i._)("div",{onContextmenu:t[1]||(t[1]=(...t)=>e.openMenu&&e.openMenu(...t)),class:"w-100 card-row d-flex align-items-center mb-3"},[(0,i._)("div",ra,[(0,i._)("div",na,[(0,i._)("div",la,[(0,i._)("div",da,(0,v.zw)(s.teaching.professor.surname)+" "+(0,v.zw)(s.teaching.professor.name)+" "+(0,v.zw)(s.teaching.professor.serialNumber),1),(0,i._)("div",ca,(0,v.zw)(s.teaching.course.title),1),(0,i._)("div",ua,[(0,i.Wm)(l,{"data-bs-toggle":"modal","data-bs-target":"#modalDelete"+s.teaching.idTeaching},null,8,["data-bs-target"])])])])])],32)],64)}const pa=["id"],ga={class:"modal-dialog modal-dialog-centered"},ha={class:"modal-content"},fa={class:"modal-header"},va={class:"modal-title fs-5",id:"exampleModalLabel"},ba=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),wa={class:"modal-body"},_a={class:"modal-footer"},Ca=(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Chiudi",-1);function ya(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",ga,[(0,i._)("div",ha,[(0,i._)("div",fa,[(0,i._)("h1",va,(0,v.zw)(s.title),1),ba]),(0,i._)("div",wa,(0,v.zw)(s.teaching.professor.surname)+" "+(0,v.zw)(s.teaching.professor.name)+" con matricola "+(0,v.zw)(s.teaching.professor.serialNumber)+" insegna "+(0,v.zw)(s.teaching.course.title),1),(0,i._)("div",_a,[Ca,(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.executeOperation&&r.executeOperation(...e)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Ok")])])])],8,pa)}var ka={name:"TeachingModal",props:["teaching","title","modalId"],methods:{changeToastMessage:kt,openToast(){const e=f()("#liveToast"),t=new yt.FN(e);this.changeToastMessage("Insegnamento cancellato con successo"),t.show()},executeOperation(){let e=this;f().ajax("TeachingServlet",{method:"POST",data:{operation:"delete",idTeaching:e.teaching.idTeaching},xhrFields:{withCredentials:!0},crossDomain:!0,success(){e.$emit("delete-teaching"),e.openToast()}})}}};const Da=(0,j.Z)(ka,[["render",ya]]);var xa=Da,Ta={name:"TeachingItem",props:["teaching"],components:{TrashCanOutline:bo.Z,TeachingModal:xa},emits:["delete-teaching"]};const Ra=(0,j.Z)(Ta,[["render",ma]]);var Pa=Ra;const Ua=["id"],Ma={class:"modal-dialog modal-dialog-centered"},Na={class:"modal-content"},Ia={class:"modal-header"},Wa=(0,i._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Aggiungi un nuovo insegnante",-1),Sa={class:"modal-body"},za={class:"row pb-5"},Oa={class:"col"},Fa=(0,i._)("option",{value:"default"},"Seleziona professore",-1),Ea=["value"],Aa={class:"col"},ja=["disabled"],Za=(0,i._)("option",{value:"default"},"Seleziona materia",-1),qa=["value"],Ha={class:"modal-footer"},Va=["disabled"];function Ga(e,t,s,a,r,n){return(0,i.wg)(),(0,i.iD)("div",{id:s.modalId,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[(0,i._)("div",Ma,[(0,i._)("div",Na,[(0,i._)("div",Ia,[Wa,(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>n.clearInput&&n.clearInput(...e)),"aria-label":"Close"})]),(0,i._)("div",Sa,[(0,i._)("div",za,[(0,i._)("div",Oa,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.selectedProfessor=e),onChange:t[2]||(t[2]=(...e)=>n.professorChange&&n.professorChange(...e)),class:"form-select","aria-label":"Default select example"},[Fa,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.professors,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.serialNumber,key:e.serialNumber},(0,v.zw)(e.name)+" "+(0,v.zw)(e.surname),9,Ea)))),128))],544),[[o.bM,r.selectedProfessor]])]),(0,i._)("div",Aa,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedCourse=e),disabled:"default"===r.selectedProfessor,class:"form-select","aria-label":"Default select example"},[Za,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.courses,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.idCourse,key:e.idCourse},(0,v.zw)(e.title),9,qa)))),128))],8,ja),[[o.bM,r.selectedCourse]])])])]),(0,i._)("div",Ha,[(0,i._)("button",{type:"button",class:"btn btn-secondary",onClick:t[4]||(t[4]=(...e)=>n.clearInput&&n.clearInput(...e)),"data-bs-dismiss":"modal"},"Annulla"),(0,i._)("button",{onClick:t[5]||(t[5]=(...e)=>n.executeOperation&&n.executeOperation(...e)),disabled:"default"===r.selectedCourse,type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Aggiungi",8,Va)])])])],8,Ua)}var La={name:"AddTeachingModal",props:["modalId"],emits:["new-teaching"],data(){return{professors:[],courses:[],selectedCourse:"default",selectedProfessor:"default"}},methods:{changeToastMessage:kt,openToast(e){const t=f()("#liveToast"),s=new yt.FN(t);this.changeToastMessage(e),s.show()},clearInput(){"default"!==this.selectedProfessor&&(this.selectedProfessor="default",this.getProfessors(),"default"!==this.selectedCourse&&(this.selectedCourse="default",this.getCourses()))},executeOperation(){let e=this;f().ajax("TeachingServlet",{method:"POST",data:{operation:"add",serialNumber:e.selectedProfessor,idCourse:e.selectedCourse},xhrFields:{withCredentials:!0},crossDomain:!0,success(t){e.$emit("new-teaching",t),e.openToast("Insegnamento inserito con successo")}}),e.clearInput()},getProfessors(){let e=this;f().ajax("ProfessorServlet",{method:"GET",data:{operation:"select"},success:t=>{e.professors=t}})},getCourses(){let e=this;f().ajax("CourseServlet",{method:"GET",data:{operation:"select"},success:t=>{e.courses=t}})},professorChange(){let e=this;"default"!==this.selectedProfessor?f().ajax("CourseServlet",{method:"GET",data:{operation:"newTeaching",serialNumber:e.selectedProfessor},success:t=>{e.courses=t}}):e.getCourses()}},mounted(){this.getProfessors(),this.getCourses()}};const Ya=(0,j.Z)(La,[["render",Ga]]);var Ba=Ya,$a={name:"AdminTeachings",data(){return{teachings:null,searchField:""}},components:{LoadingRow:co,TeachingItem:Pa,CustomToast:$e,AddTeachingModal:Ba},methods:{getTeachings(){let e=this;f().ajax("TeachingServlet?operation=select",{method:"GET",success:t=>{setTimeout((()=>{e.teachings=t}),2e3)}})},removeTeaching(e){for(var t=0;t<this.teachings.length;t++)this.teachings[t]==e&&this.teachings.splice(t,1)},updateTeaching(e){this.teaching.push(e)}},watch:{searchField:function(e){if(""===e)return void this.getTeachings();let t=this;f().ajax("TeachingServlet",{method:"GET",data:{operation:"search",searchField:e},success(e){t.teachings=e}})}},mounted(){this.getTeachings()}};const Ka=(0,j.Z)($a,[["render",aa]]);var Ja=Ka;const Qa=(0,i._)("nav",{"aria-label":"breadcrumb"},[(0,i._)("ol",{class:"breadcrumb"},[(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Tutte le ripetizioni")])],-1),Xa=(0,i._)("h4",{class:"pt-5"},"Ripetizioni da effettuare",-1),er={key:0},tr={key:1},sr={key:0},or={key:1},ir={key:0},ar=(0,i._)("h4",{class:"pt-5"},"Ripetizioni confermate",-1),rr={key:2},nr={key:3},lr={key:0},dr={key:1},cr={key:0},ur=(0,i._)("h4",{class:"pt-5"},"Ripetizioni cancellate",-1),mr={key:4},pr={key:5},gr={key:0},hr={key:1},fr={key:0};function vr(e,t,s,o,a,r){const n=(0,i.up)("CustomToast"),l=(0,i.up)("MyRepetitionCardLoading"),d=(0,i.up)("RepetitionCard");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{ref:"customToast"},null,512),Qa,Xa,null===a.pendingRepetitions?((0,i.wg)(),(0,i.iD)("div",er,[(0,i.Wm)(l),(0,i.Wm)(l),(0,i.Wm)(l)])):((0,i.wg)(),(0,i.iD)("div",tr,[0===a.pendingRepetitions.length?((0,i.wg)(),(0,i.iD)("div",sr," Non ci sono ripetizioni da effettuare ")):((0,i.wg)(),(0,i.iD)("div",or,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pendingRepetitions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.idRepetition},[0===e.state?((0,i.wg)(),(0,i.iD)("div",ir,[(0,i.Wm)(d,{repetition:e},null,8,["repetition"])])):(0,i.kq)("",!0)])))),128))]))])),ar,null===a.confirmedRepetitions?((0,i.wg)(),(0,i.iD)("div",rr,[(0,i.Wm)(l),(0,i.Wm)(l),(0,i.Wm)(l)])):((0,i.wg)(),(0,i.iD)("div",nr,[0===a.confirmedRepetitions.length?((0,i.wg)(),(0,i.iD)("div",lr," Non ci sono ripetizioni confermate ")):((0,i.wg)(),(0,i.iD)("div",dr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.confirmedRepetitions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.idRepetition},[1===e.state?((0,i.wg)(),(0,i.iD)("div",cr,[(0,i.Wm)(d,{repetition:e},null,8,["repetition"])])):(0,i.kq)("",!0)])))),128))]))])),ur,null===a.cancelledRepetitions?((0,i.wg)(),(0,i.iD)("div",mr,[(0,i.Wm)(l),(0,i.Wm)(l),(0,i.Wm)(l)])):((0,i.wg)(),(0,i.iD)("div",pr,[0===a.cancelledRepetitions.length?((0,i.wg)(),(0,i.iD)("div",gr," Non ci sono ripetizioni cancellate ")):((0,i.wg)(),(0,i.iD)("div",hr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.cancelledRepetitions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.idRepetition},[2===e.state?((0,i.wg)(),(0,i.iD)("div",fr,[(0,i.Wm)(d,{repetition:e},null,8,["repetition"])])):(0,i.kq)("",!0)])))),128))]))]))],64)}const br={class:"w-100 card-row d-flex align-items-center mb-3"},wr={class:"card my-repetition-card me-5"},_r={class:"card-body"},Cr={class:"card-title"},yr={class:"col"},kr={class:"row"},Dr={class:"col text-start"},xr={class:"card-text"},Tr={class:"fw-bold"},Rr={class:"col text-end"},Pr={key:0},Ur=(0,i._)("span",{class:"fw-bold"},"Prenotata",-1),Mr=[Ur],Nr={key:1},Ir=(0,i._)("span",{class:"fw-bold"},"Effettuata",-1),Wr=[Ir],Sr={key:2},zr=(0,i._)("span",{class:"fw-bold"},"Cancellata",-1),Or=[zr];function Fr(e,t,s,o,a,r){return(0,i.wg)(),(0,i.iD)("div",br,[(0,i._)("div",wr,[(0,i._)("div",_r,[(0,i._)("h5",Cr,(0,v.zw)(s.repetition.teaching.course.title),1),(0,i._)("div",yr,[(0,i._)("div",kr,[(0,i._)("div",Dr,[(0,i._)("p",xr,[(0,i.Uk)(" Ripetizione dell'utente "),(0,i._)("span",Tr,(0,v.zw)(s.repetition.user.name)+" "+(0,v.zw)(s.repetition.user.surname),1),(0,i.Uk)(" con "+(0,v.zw)(s.repetition.teaching.professor.name)+" "+(0,v.zw)(s.repetition.teaching.professor.surname)+" il giorno "+(0,v.zw)(r.formatDate(s.repetition.date))+" alle "+(0,v.zw)(r.formatTime(s.repetition.time)),1)])]),(0,i._)("div",Rr,[0===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",Pr,Mr)):1===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",Nr,Wr)):2===s.repetition.state?((0,i.wg)(),(0,i.iD)("div",Sr,Or)):(0,i.kq)("",!0)])])])])])])}var Er={name:"RepetitionCard",props:["repetition"],methods:{formatDate:je,formatTime:qe}};const Ar=(0,j.Z)(Er,[["render",Fr]]);var jr=Ar,Zr={name:"AdminRepetitions",data(){return{repetitions:null,pendingRepetitions:null,confirmedRepetitions:null,cancelledRepetitions:null}},components:{RepetitionCard:jr,MyRepetitionCardLoading:Hs,CustomToast:$e},methods:{getUserRepetitions(){let e=this;f().ajax("RepetitionServlet",{method:"GET",data:{operation:"select"},success:t=>{e.repetitions=t,e.loadRepetitionsByState(t)}})},loadRepetitionsByState(e){this.pendingRepetitions=[],this.confirmedRepetitions=[],this.cancelledRepetitions=[],e.forEach((e=>{switch(e.state){case 0:this.pendingRepetitions.push(e);break;case 1:this.confirmedRepetitions.push(e);break;case 2:this.cancelledRepetitions.push(e);break}}))}},mounted(){this.getUserRepetitions()}};const qr=(0,j.Z)(Zr,[["render",vr]]);var Hr=qr,Vr={name:"App",data(){return{page:"home",loggedUser:null,userRepetitions:[]}},components:{VerticalBar:q,HomeView:Me,SearchView:Mt,MyRepetitions:Ls,AdminCourses:Jo,AdminProfessors:$i,AdminTeachings:Ja,AdminRepetitions:Hr},methods:{changePage(e){this.page=e},login(){let e=this;f().ajax("UserServlet",{method:"POST",data:{operation:"login",email:"matteodedonno02@gmail.com",password:"matteo"},xhrFields:{withCredentials:!0},crossDomain:!0,success:t=>{console.log(t),e.loggedUser=t}})},getUserFromSession(){let e=this;f().ajax("UserServlet",{method:"POST",data:{operation:"getFromSession"},success:t=>{null!==t&&(e.loggedUser=t)}})}},mounted(){this.getUserFromSession()}};const Gr=(0,j.Z)(Vr,[["render",g]]);var Lr=Gr;(0,o.ri)(Lr).mount("#app")}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,o,i,a){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],a=e[c][2];for(var n=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(n=!1,a<r&&(r=a));if(n){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,i,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,o){return s.f[o](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+"."+{24:"5823fd1b",36:"8d970807",74:"d6c39fe2",112:"6f0f0426",114:"8b65adbd",142:"ad2d9293",207:"3db6ffa0",224:"8551456f",238:"90e2038a",244:"c923dfb1",248:"6c53c10c",317:"abce1dd8",326:"024c9744",344:"5079df82",360:"8c68704c",368:"82cad220",398:"4585e462",400:"5032a9ba",476:"5c3733f5",526:"14376124",546:"a9a4c906",560:"05351d10",578:"c9fd8d2e",603:"343704fe",613:"4378c33c",720:"e9fb753c",739:"b345ebb6",745:"9a4429ea",768:"2e486230",784:"24cc3782",807:"8b7d6ae1",828:"6baa8200",838:"aded93db",853:"aa5c2cf7",858:"8d6620a4",868:"6e08bfac",894:"7b70cc1d",915:"0e9228d4",920:"dbecab66",931:"d0586b6c",949:"2a26a9d9",983:"a09b4cbe"}[e]+".js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="progetto_ium_tweb_frontend:";s.l=function(o,i,a,r){if(e[o])e[o].push(i);else{var n,l;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.setAttribute("data-webpack",t+a),n.src=o),e[o]=[i];var m=function(t,s){n.onerror=n.onload=null,clearTimeout(p);var i=e[o];if(delete e[o],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/progetto_ium_tweb_2022_2023_war_exploded/"}(),function(){var e={143:0};s.f.j=function(t,o){var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var a=new Promise((function(s,o){i=e[t]=[s,o]}));o.push(i[2]=a);var r=s.p+s.u(t),n=new Error,l=function(o){if(s.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var a=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",n.name="ChunkLoadError",n.type=a,n.request=r,i[1](n)}};s.l(r,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,r=o[0],n=o[1],l=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var c=l(s)}for(t&&t(o);d<r.length;d++)a=r[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},o=self["webpackChunkprogetto_ium_tweb_frontend"]=self["webpackChunkprogetto_ium_tweb_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(8994)}));o=s.O(o)})();
//# sourceMappingURL=app.802f5cfb.js.map